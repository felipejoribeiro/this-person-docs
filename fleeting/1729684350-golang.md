---
id: 1729684350-golang
aliases:
  - go language
  - golang
  - go
tags:
  - programming;
  - engineering;
---

# Golang

## Introduction

Go is a statically typed programming language. It must be compiled and is pretty fast, which makes it constantly being used in back-end infrastructure. It was created in November 2009 and it's key features are:

- **Simplicity**: It's syntax was created to be simple and concise;
- **Concurrency**: It has out of the box concurrency support with `goroutines`, with which the developer can create jobs and send messages between then;
- **garbeage collection**: It has built in memory management, which automatically get rid of memory data that isn't needed anymore;
- **statically typed**: It has static types;

Interestingly enough, **kubernetes** and **docker** were developed in go.

## Database integration

Integrating go with databases is a common task. Here are some of the most popular libraries for database integration:

### Migrations

To integrate golang with a database, the `golang-migrate` library can be used to manage your database. It supports all major databases like ` PostgreSQL`, `MySQL`, `MongoDB`, `SALite`, and more. It' s a cli utility and a go library. It can be used both ways.

Here are some command examples:

```bash
migrate create # create new migrations
migrate goto $1 # migrate to a specific database version
migrate up $1 # apply all changes up by $1 migrations
migrate down $1 # rollback migrations back $1 migrations
```

For the first migration, create the schema with a tool like [pdbdiagram.io](https://dbdiagram.io/) and generate the `.sql` file with the `000001_init_schema.up.sql`, then, create a `000001_init_schema.down.sql` deleting all tables created for the reverse operation. Keep these files inside a directory called `migration`, and whenever you need to change the **schema** you will have to generate new `.up.sql` and `.down.sql` files

You will need a database driver as well, for that you can use [pq](https://github.com/lib/pq). It will be used to stablish a connection with your database and make queries.

### CRUD operations

For golang **CRUD** operations there are great ORM libraries. Here are some of the best picks:

- **DATABASE/SQL**: The standard library for database operations. It's fast and straightforward. Requires manual mapping of fields. Easy to make mistakes.
- **GORM**: Operations are already implemented with short porduction code. Requires specific **API** learning curve. Runs slow in comparison to other libraries.
- **SQLX**: Very fast and easy to use. The fields are mapped via query text and struct tags. Failures won't occur until runtime.
- **[SQLC](1732030573-sqlc.md)**: It's a code generator that generates code from SQL queries. It's very fast and type safe. It's a great choice for large projects. Errors in SQL queries are caught in compile time. Only supports **PostgreSQL**, **MySQL** and **SQLite**.

Here we will explore `SQLC`. It is a code generator that looks at your schema and generates the necessary crud code to deal with it.
